<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JAVASCRIPT VIEWER</title>
    <meta name="viewport" content="width=device-width">
    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body style="background-color:#FFFFFF" ng-app="viewer" ng-controller="ViewerController">

    <div class="container row">

      <div class="col-sm-9">

        <!--VIEWR-->
        <div id="viewer"
          style="display:block; height: 800px; width: 800px; position: relative;">
        </div>

        <div class="container">

          <button class="btn btn-primary" type="submit" ng-click="clear()">Clear</button>
          <button class="btn btn-primary" type="submit" ng-click="render()">Re-render all</button>
          <button class="btn btn-primary" type="submit" ng-click="renderIso()">Re-render volumetric</button>

        </div>

      </div>

      <div class="col-sm-3">
        <h3>Volumetric data</h3>
        <uib-tabset class="alert alert-info" type="pills" vertical="true">
          <uib-tab index="-1" >
            <uib-tab-heading>
              <i class="glyphicon glyphicon-file"></i>
              Files
            </uib-tab-heading>
            <ul id="chgcar-list">
              <li class="checkbox" ng-repeat="chg in CHGCARS">
                <label for="">{{chg.name}}</label>
                <input type="checkbox" ng-true-value="true" ng-false-value="false"  ng-value="chg.value" ng-model="chg.value" name="{{chg.name}}" id="{{chg.name}}">
              </li>
            </ul>
            <label for="Add new file">Add file name</label>
            <input type="text" placeholder="e.g.: ./path/to/your/file"  class="" ng-value="newChgName" ng-model="newChgName">
            <button class="btn btn-primary" ng-click="addChgcarObject(newChgName)"><i class="glyphicon glyphicon-plus"></i></button>

          </uib-tab>
          <uib-tab ng-repeat="chg in CHGCARS" index="$index" disable="!chg.value">
            <uib-tab-heading>
              <i ng-style="{'color': chg.color}" class="glyphicon glyphicon-cog"></i>
              {{chg.name}}
              <button class="btn btn-xs btn-warning " uib-btn-checkbox ng-model="chg.value">
                <i class="glyphicon glyphicon-minus" ng-show="!chg.value"></i>
                <i class="glyphicon glyphicon-plus" ng-show="chg.value"></i>
              </button>
              <span class="label label-default" uib-tooltip="energy" ng-if="chg.extras.energy">
                {{chg.extras.energy | number:2}}
              </span>
              <span class="label label-default" uib-tooltip="spin" ng-if="chg.extras.spin">
                {{chg.extras.spin | number:0}}
              </span>
            </uib-tab-heading>
            <!--{{chg}}-->
            <ul class="list-group">
              <li class="list-group-item">
                <div class="input-group">
                  <label for="isovalue">Isovalue (max {{chg.max|number:4}})</label>
                  <input class="form-control" ng-model="chg.isovalue" ng-value"chg.isovalue"  ng-change="interactiveRenderVolumetric(chg)" type="number" step="{{chg.isoStep}}"  >
                </div>
                <div class="input-group">
                  <label for="">Interactive?</label>
                  <input type="checkbox" ng-true-value="true" ng-false-value="false" ng-model="chg.interactive" >
                </div>
                <div class="input-group">
                  <label for="isovalueStep">Step</label>
                  <input class="form-control" ng-model="chg.isoStep" ng-value"chg.isoStep"  type="text" >
                </div>
              </li>
              <li class="list-group-item">
                <div class="input-group">
                  <label class="">Opacity</label>
                  <input class="form-control" ng-model="chg.opacity" type="number" step="0.01" min="0" max="1" name="opacity" value="0.95" id="opacity">
                </div>
              </li>
              <li class="list-group-item">
                <div class="input-group">
                  <label for="smoothness">Smoothness</label>
                  <input class="form-control" ng-model="chg.smoothness" type="number" step="0.01" min="0" max="100" name="smoothness" value="10" id="smoothness">
                </div>
              </li>
              <li class="list-group-item" class="list-group-item">
                <div class="input-group">
                  <label for="alpha">Alpha</label>
                  <input class="form-control" ng-model="chg.alpha" type="number" step="0.01" min="0" max="1" name="alpha" value="0.95" id="alpha">
                </div>
              </li>
              <li class="list-group-item">
                <div class="input-group">
                  <label for="Voxel">Voxel</label>
                  <input class="form-control" ng-true-value="true" ng-false-value="false" ng-model="chg.voxel" type="checkbox" name="voxel" id="voxel">
                </div>
              </li>
            </li>
            <li class="list-group-item">
              <div class="input-group">
                <label for="format">Format</label>
                <input class="form-control" ng-model="chg.format" type="text" >
              </div>
            </li>
            <li class="list-group-item">
              <div class="input-group">
                <label for="Color">Color</label>
                <select class="form-control"  ng-value="chg.color" ng-model="chg.color" size="1">
                  <option ng-repeat="color in MAIN_COLORS" style="font-weight:bold; color:{{color}}" value="{{color}}">{{color}}</option>
                </select>
              </div>
            </li>
            <li class="list-group-item" ng-style="{'background': chg.color}">
              <button class="center-block btn btn-default" ng-click="renderVolumetricData(chg)">Render</button>
            </li>
          </ul>
        </uib-tab>
      </uib-tabset>


      <h3>Model data</h3>
      <uib-tabset type="pills" class="aler alert-info">
        <uib-tab heading="Files">
          <ul id="">
            <li class="checkbox" ng-repeat="model in MODELS">
              <label for="">{{model.name}}</label>
              <input type="checkbox" ng-true-value="true" ng-false-value="false"  ng-value="model.value" ng-model="model.value" name="{{model.name}}" id="{{model.name}}">
            </li>
          </ul>
          <label for="Add new file">Add file name</label>
          <input type="text" class="" placeholder="e.g.: ./path/to/your/file" ng-value="newModelName" ng-model="newModelName">
          <button class="btn btn-primary" ng-click="addModelObject(newModelName)"><i class="glyphicon glyphicon-plus"></i></button>
        </uib-tab>
        <uib-tab heading="{{  model.name }}" ng-repeat="model in MODELS">
          <button class="btn btn-primary" ng-click="renderModel(model)">Render</button>
        </uib-tab>
      </uib-tabset>


    </div>
  </div>











  <script src="bower_components/angular/angular.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="bower_components/angular-bootstrap/ui-bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js" type="text/javascript" charset="utf-8"></script>

  <script src="3Dmol.js/build/3Dmol-min.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/nv.js" type="text/javascript" charset="utf-8"></script>



</body>
</html>
